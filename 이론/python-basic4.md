# Python basic(4) - 시퀀스 자료형 활용하기

## 시퀀스 자료형이란

- 리스트, 튜플, range, 문자열의 공통점: 값이 연속적(sequence)으로 이어져 있음
- 이러한 자료형을 시퀀스 자료형이라고 부름

## 시퀀스 자료형의 공통 기능

- 특정 값이 있는지 확인

```python
>>> a = [0, 10, 20, 30, 40]
>>> 30 in a
True
>>> 50 in a
False
>>> 70 not in a
True
>>> 10 not in a
False

>>> 9 in (0, 9, 18)
True
>>> 1 in range (10)
True
>>> 'P' in 'Python'
True
```

- 시퀀스 객체 연결하기

```python
# 리스트 연결
>>> a = [0, 1, 2, 3]
>>> b = [4, 5, 6, 7, 8, 9]
>>> a + b
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# range는 + 연산자로 연결할 수 없으므로 리스트 또는 튜플로 만들어 연결
>>> list(range(0, 2)) + list(range(2, 5))
[0, 1, 2, 3, 4, 5]

# 문자열 연결
>>> 'Today is ' + 'Friday!'
'Today is Friday!'

# 문자열에 숫자 연결하기
>>> 'Hi, ' + str(10)
'Hi, 10'
```

- 시퀀스 객체 반복하기

```python
# 리스트 반복하기
>>> [0, 1, 2] * 3
[0, 1, 2, 0, 1, 2, 0, 1, 2]

# range는 *로 반복 블가능하므로 리스트 또는 튜플 이용

# 문자열 반복하기
>>> 'Hi~' * 3
'Hi~Hi~Hi'
```

- 시퀀스 객체 요소 개수 구하기

```python
# 리스트 요소 개수 구하기
>>> a = [1, 2, 3]
>>> len(a)
3

# range의 숫자 생성 개수 구하기
>>> len(range(0, 10, 2))
5

# 문자열 길이 구하기 -> 공백 포함
>>> a = 'Hi'
>>> len(a)
2

# UTF-8 문자열 바이트 수 구하기
>>> hello = '안녕하세요'
>>> len(hello.encode('utf-8'))
15
```

- 인덱스 사용하기
  - 자바스크립트와 동일하게 0부터 시작
  - 시퀀스 객체에 인덱스를 지정하지 않으면 전체 객체를 뜻함
  - 리스트는 인덱스 접근을 통한 값 할당이 가능하지만 튜플, range는 불가능

```python
# 시퀀스 객체에서 대괄호를 사용하면 실제로는 __getitem__메서드를 호출
>>> a = [0, 10, 20]
>>> a.__getiem__(1)
10
>>> a[1]
10

# 음수 인덱스
>>> a[-1]
20
>>> a[-2]
0

# 마지막 인덱스 요소
>>> a[len(a) - 1]
20
```

- 요소 삭제하기
  - 튜플과 range는 불가능

```python
>>> a = [1, 2, 3]
>>> del a[1]
[1, 3]
```

- 슬라이스 사용하기
  - 튜플, range에도 사용 가능

```python
# 시퀀스객체[시작인덱스:끝인덱스] - 끝 인덱스는 포함되지 않음
>>> a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> a[0:4]
[0, 1, 2, 3]
>>> a[3:7]
[3, 4, 5, 6]

# 증가폭
>>> a[0:10:2]
[0, 2, 4, 6, 8]

# 인덱스 생략하기
>>> a[:4] # 처음부터 인덱스 3까지
[0, 1, 2, 3]
>>> a[8:] # 인덱스 4부터 끝까지
[8, 9]
>>> a[:] # 전체
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# 시퀀스객체[:끝인덱스:증가폭]
# 시퀀스객체[시작인덱스::증가폭]
# 시퀀스객체[::증가폭]
# 시퀀스객체[::] - 리스트 전체 [:]와 동일

# 인덱스 증가폭 음수
>>> a[::-1] # 리스트를 반대로
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]

# range
>>> r = range(10)
>>> r(0, 10)
range(0, 10)
>>> r[4:7]
range(4, 7)
>>> r[:7:2]
range(0, 7, 2)

# slice 객체를 사용해도 동일하게 사용가능
>>> range(10)[slice(4, 7, 2)]
range(4, 7, 2)

# slice 객체를 하나만 만든 뒤 여러 시퀀스 객체에 사용 가능
>>> a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> s = slice(4, 7)
>>> a[s]
[4, 5, 6]
>>> r = range(10)
>>> r[s]
range(4, 7)

# slice에 요소 할당하기
# 할당할 요소 개수가 적으면 리스트의 요소 개수는 줄어들고 클 경우 늘어남
>>> a = [0, 1, 2, 3, 4]
>>> a[1:3] = ['b']
>>> a
[0, b, 3, 4]

# 증가폭 사용하여 할당 - 요소 개수가 일치해야만 함!
# 튜플, range, 문자열 사용 불가
>>> a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> a[2:8:2] = ['a', 'b', 'c']
>>> a
[0, 1, 'a', 3, 'b', 5, 'c', 7, 8, 9]
```

- del로 슬라이스 삭제를 할 수 있는데, 튜플, range, 문자열은 삭제 불가

```python
>>> a = [0, 1, 2, 3, 4]
>>> del a[0:2]
>>> a
[2, 3, 4]
```



## 연습문제

- 저장된 데이터의 최근 3년간 연도 출력

```python
>>> year = [2012, 2013, 2014, 2015, 2016, 2017]
>>> year[-3:]
[2015, 2016, 2017]
```



출처: [코딩 도장](https://dojang.io/course/view.php?id=7)

